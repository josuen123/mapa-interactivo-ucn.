/* === VERSIÓN FINAL v11 - MARCO PARA EL MAPA === */
:root {
--font-family: 'Poppins', sans-serif;
--background: #f0f2f5;
--surface: #ffffff;
--text-primary: #1c1e21;
--text-secondary: #65676b;
--accent: #00509E;
--highlight: #FFA500;
--border-color: #ced0d4;
--shadow-color: rgba(0, 0, 0, 0.1);
--transition-speed: 0.4s;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
font-family: var(--font-family);
background-color: var(--background);
color: var(--text-primary);
overflow: hidden;
}
/* --- BUSCADOR EXPANDIBLE --- */
.site-header {
position: fixed;
top: 1rem;
left: 1rem;
z-index: 100;
}
.header-content {
display: flex;
align-items: center;
height: 50px;
background-color: var(--surface);
border-radius: 25px;
padding: 0 10px;
box-shadow: 0 4px 20px var(--shadow-color);
border: 1px solid var(--border-color);
cursor: pointer;
transition: all var(--transition-speed) ease;
width: 50px; /* Ancho inicial (colapsado) */
}
.ucn-logo {
height: 30px;
min-width: 30px;
}
#search {
width: 100%;
border: none;
outline: none;
background: none;
font-size: 1rem;
font-family: var(--font-family);
color: var(--text-primary);
margin-left: 10px;
opacity: 0; /* Oculto por defecto */
transition: opacity calc(var(--transition-speed) / 2) ease;
transition-delay: calc(var(--transition-speed) / 2);
}
#search::placeholder { color: var(--text-secondary); }
/* Estado expandido */
.header-content.search-expanded {
width: 350px;
cursor: default;
}
.header-content.search-expanded #search {
opacity: 1;
}
@media (max-width: 768px) {
.header-content.search-expanded {
width: calc(100vw - 2rem);
}
}
/* --- MAPA Y POSICIONAMIENTO --- */
.map-container { 
height: 100vh; 
position: relative; 
}
.map-stage {
width: 100%; 
height: 100%; 
position: relative;
overflow: hidden;
}
.map-content {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 100%;
height: 100%;
object-fit: contain;
max-width: 1600px; 
aspect-ratio: 16 / 9;
/* === AQUÍ ESTÁ EL NUEVO MARCO === */
border-radius: 12px;
border: 4px solid var(--surface);
box-shadow: 0 10px 30px rgba(0,0,0,0.2);
overflow: hidden; /* Asegura que la imagen no se salga del borde redondeado */
}
.map-base {
position: absolute; top: 0; left: 0; width: 100%; height: 100%;
object-fit: cover; display: block;
filter: brightness(1.05) contrast(1.1) saturate(1.2);
}
/* --- PINES (ESTILO UNIFICADO) --- */
.pin-wrapper {
position: absolute;
transform: translate(-50%, -100%); 
cursor: pointer; z-index: 2;
display: flex;
flex-direction: column;
align-items: center;
transition: opacity 0.4s ease, filter 0.4s ease, transform 0.2s ease;
}
.pin {
width: 18px; height: 18px; border-radius: 50%;
background-color: var(--accent); border: 3px solid var(--surface);
box-shadow: 0 3px 8px rgba(0,0,0,0.25);
transition: all 0.2s ease;
}
.pin-label {
color: var(--text-primary);
background-color: rgba(255, 255, 255, 0.85);
backdrop-filter: blur(2px);
font-size: 11px;
font-weight: 600;
padding: 4px 9px;
border-radius: 6px;
box-shadow: 0 1px 4px rgba(0,0,0,0.15);
margin-bottom: 8px; /* Espacio entre el texto y el círculo */
white-space: nowrap;
pointer-events: none;
}
.pin-wrapper:hover {
transform: translate(-50%, -100%) scale(1.1);
z-index: 3;
}
/* Ajuste de tamaño para pantallas pequeñas */
@media (max-width: 768px) {
.pin {
width: 16px;
height: 16px;
border-width: 2px;
}
.pin-label {
font-size: 10px;
padding: 3px 8px;
margin-bottom: 6px;
}
}
/* Estados (Activo, Búsqueda, Filtrado) */
.pin-wrapper.active .pin {
background-color: var(--highlight);
transform: scale(1.2);
}
.pin-wrapper.search-match { animation: bounce-in-pin 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
@keyframes bounce-in-pin {
from { transform: translate(-50%, -100%) scale(0.5); }
to { transform: translate(-50%, -100%) scale(1); }
}
.pin-wrapper.filtered { opacity: 0.1; filter: blur(2px); pointer-events: none; }
/* --- PANEL DE INFORMACIÓN --- */
.info-panel {
position: fixed; z-index: 200; pointer-events: none;
transition: transform var(--transition-speed) cubic-bezier(0.16, 1, 0.3, 1), opacity var(--transition-speed);
}
.panel-inner {
background-color: var(--surface); border-radius: 16px;
box-shadow: 0 10px 30px rgba(0,0,0,0.1); overflow: hidden; pointer-events: auto;
}
.close-btn {
position: absolute; top: 1rem; right: 1rem;
background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(5px);
border: none; border-radius: 50%; cursor: pointer;
width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;
color: var(--text-secondary); transition: all 0.2s; z-index: 10;
}
.close-btn:hover { background-color: #e9ecef; color: var(--text-primary); transform: rotate(90deg); }
.panel-content { padding: 1.5rem; }
#panel-img {
width: 100%; height: 180px; object-fit: cover;
border-radius: 12px; margin-bottom: 1rem;
}
#panel-title { font-size: 1.5rem; font-weight: 600; margin-bottom: 0.5rem; padding-right: 40px; }
#panel-desc { font-size: 1rem; line-height: 1.6; color: var(--text-secondary); }
.handle-container { display: none; }
@media (min-width: 769px) {
.info-panel {
top: 50%; right: 2rem; width: 360px;
transform: translate(120%, -50%); opacity: 0;
}
.info-panel.open { transform: translate(0, -50%); opacity: 1; }
}
@media (max-width: 768px) {
.info-panel {
bottom: 0; left: 0; width: 100%; transform: translateY(100%);
}
.info-panel.open { transform: translateY(0); }
.panel-inner { border-radius: 20px 20px 0 0; }
.panel-content { padding: 1rem; padding-top: 2.5rem; }
#panel-title { font-size: 1.25rem; }
#panel-desc { font-size: 0.95rem; }
#panel-img { height: 150px; }
.close-btn { top: 12px; right: 12px; }
.handle-container {
position: absolute; top: 0; left: 0; width: 100%;
display: flex; justify-content: center;
padding: 0.75rem; cursor: grab;
}
.handle { width: 40px; height: 5px; background-color: var(--border-color); border-radius: 3px; }
}